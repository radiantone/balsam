
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>ALCF-Theta Quickstart - Balsam</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="amber">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-on-theta" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Balsam" class="md-header-nav__button md-logo" aria-label="Balsam">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 000 14a6 6 0 006 6h13a5 5 0 005-5c0-2.64-2.05-4.78-4.65-4.97z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Balsam
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              ALCF-Theta Quickstart
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/balsam-alcf/balsam/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    balsam-alcf/balsam
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Balsam" class="md-nav__button md-logo" aria-label="Balsam">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 000 14a6 6 0 006 6h13a5 5 0 005-5c0-2.64-2.05-4.78-4.65-4.97z"/></svg>

    </a>
    Balsam
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/balsam-alcf/balsam/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    balsam-alcf/balsam
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/data-model/" class="md-nav__link">
        Understanding Balsam
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/layout/" class="md-nav__link">
        Project Layout
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        Contribution Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/site-config/" class="md-nav__link">
        Site Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/client/" class="md-nav__link">
        The Python REST Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/appdef/" class="md-nav__link">
        Defining Applications
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/jobsource/" class="md-nav__link">
        JobSource and StatusUpdater
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/service/" class="md-nav__link">
        Service modules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/web-client/" class="md-nav__link">
        Web Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development/todo/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../development/deploy/" class="md-nav__link">
        Running a Balsam Server
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
      
      <label class="md-nav__link" for="nav-4">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ALCF-Theta Quickstart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ALCF-Theta Quickstart
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in" class="md-nav__link">
    Log In
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-balsam-site" class="md-nav__link">
    Create a Balsam site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-apps" class="md-nav__link">
    Set up your Apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-jobs" class="md-nav__link">
    Add Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-site" class="md-nav__link">
    Running the Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-job" class="md-nav__link">
    Submitting a Job
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in" class="md-nav__link">
    Log In
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-balsam-site" class="md-nav__link">
    Create a Balsam site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-apps" class="md-nav__link">
    Set up your Apps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-jobs" class="md-nav__link">
    Add Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-site" class="md-nav__link">
    Running the Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-job" class="md-nav__link">
    Submitting a Job
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/balsam-alcf/balsam/edit/master/docs/tutorials/theta-quickstart.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="running-on-theta">Running on Theta</h1>
<h2 id="installation">Installation</h2>
<p>First create a new virtualenv and install it on Balsam:</p>
<div class="highlight"><pre><span></span><code>$ /soft/datascience/create_env.sh my-env # Or do it yourself
$ source my-env/bin/activate
$ git clone https://github.com/balsam-alcf/balsam.git
$ cd balsam/
$ git checkout develop
$ pip install -e .
</code></pre></div>
<h2 id="log-in">Log In</h2>
<p>Now you will need to create a Balsam user account and log in.  Logging in fetches an access token
that is used to identify you in subsequent API interactions, until the token expires and you have to log in again.
<div class="highlight"><pre><span></span><code>$ balsam register
Balsam server address: http://generic-01:8000
# Set your own username and password
# Use a &quot;throwaway&quot; password since it&#39;s transmitted over plaintext for now

$ balsam login
# Follow the prompts to log into http://generic-01:8000
# With the credentials you used to register
</code></pre></div></p>
<h2 id="create-a-balsam-site">Create a Balsam site</h2>
<p>While the database is centrally located on the <code>generic-01</code> host and shared, users will still 
create their own directories where Jobs run.  Each Balsam execution directory is called a <strong>Site</strong>. 
A User can own many <strong>Sites</strong> across different HPC systems, or even have <strong>Sites</strong> configured on their laptop.</p>
<p>Instead of creating a database with <code>balsam init</code>, we will create our first Balsam <strong>Site</strong> as follows:</p>
<div class="highlight"><pre><span></span><code>$ export BALSAM_LOG_LEVEL=WARNING   # to avoid excessive logs on the CLI for now
$ balsam site init my-site
# Select the default configuration for Theta-KNL
$ cd my-site
$ balsam site ls
# You should see the details of the Site that was just created
</code></pre></div>
<h2 id="set-up-your-apps">Set up your Apps</h2>
<p>Every <code>App</code> in Balsam is now fully-specified by an <code>ApplicationDefinition</code> class that you write.
You can add Apps to modules in the Site <code>apps/</code> folder, with multiple apps per Python module file and multiple files.
Every Site comes "pre-packaged" with some default Apps that Balsam developers have pre-configured for that particular HPC system.</p>
<p>You are to modify, delete, and add your own apps.  To make a new app, you can simply copy one of the existing <code>App</code> modules as a 
starting point, or you can use the command line interface to generate a new template app:</p>
<div class="highlight"><pre><span></span><code>$ balsam app create
Application Name (of the form MODULE.CLASS): test.Hello
Application Template [e.g. &#39;echo Hello {{ name }}!&#39;]: echo hello {{ name }} &amp;&amp; sleep {{ sleeptime }} &amp;&amp; echo goodbye
</code></pre></div>
<p>Now open <code>apps/test.py</code> and see the <code>Hello</code> class that was generated for you.  The allowed parameters for this App are given in 
double curly braces: <code>{{ name }}</code> and <code>{{ sleeptime }}</code>.  When you add <code>test.Hello</code> jobs, you will have to pass these two parameters 
and Balsam will take care of building the command line.  </p>
<p>The other components of an App are also defined directly on the <code>ApplicationDefinition</code> class, rather than in other files:</p>
<ul>
<li><code>preprocess()</code> will run on Jobs immediately before <code>RUNNING</code></li>
<li><code>postprocess()</code> will run on Jobs immediately after <code>RUN_DONE</code></li>
<li><code>shell_preamble()</code> takes the place of the <code>envscript</code>: return a multiline string envscript or a <code>list</code> of commands</li>
<li><code>handle_timeout()</code> will run immediately after <code>RUN_TIMEOUT</code></li>
<li><code>handle_error()</code> will run immediately after <code>RUN_ERROR</code></li>
</ul>
<p>Whenever you have changed your <code>apps/</code> directory, you need to inform the API about the changes.  All it takes is a single command
to sync up:
<div class="highlight"><pre><span></span><code>$ balsam app sync
$ balsam app ls
# Now you should see your newly-created App show up
</code></pre></div></p>
<p>Note that the API does not store <em>anything</em> about the <code>ApplicationDefinition</code> classes other than the class name and some metadata
about allowed parameters, allowed data transfers, etc...  What actually runs at the Site is determined entirely from the class
on the local filesystem.</p>
<h2 id="add-jobs">Add Jobs</h2>
<p>To create jobs from the CLI:
<div class="highlight"><pre><span></span><code># Get help:
$ balsam job --help
$ balsam job create --help

# Create a couple jobs:
$ balsam job create --app test.Hello --workdir test/1 --param name=&quot;world&quot; --param sleeptime=2
$ balsam job create --app test.Hello --workdir test/2 --param name=&quot;balsam&quot; --param sleeptime=1
</code></pre></div></p>
<p>To create jobs from the Python API:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">balsam.api</span> <span class="kn">import</span> <span class="n">Job</span><span class="p">,</span> <span class="n">App</span><span class="p">,</span> <span class="n">site_config</span>

<span class="n">hello_app</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">site_id</span><span class="o">=</span><span class="n">site_config</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">site_id</span><span class="p">,</span> <span class="n">class_path</span><span class="o">=</span><span class="s2">&quot;test.Hello&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">Job</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;test-api/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> 
        <span class="n">hello_app</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> 
        <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;testing!&quot;</span><span class="p">,</span> <span class="s2">&quot;sleeptime&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">},</span>
        <span class="n">node_packing_count</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">job</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
<p>Your jobs can be viewed from the CLI:
<div class="highlight"><pre><span></span><code>$ balsam job ls
</code></pre></div></p>
<h2 id="running-the-site">Running the Site</h2>
<p>Any Balsam CLI or API interaction that you perform, other than the ones that bootstrap
a new Site, does not affect the HPC system directly.  Instead, a daemon running on your
behalf at the Balsam Site <strong>pulls</strong> state changes from the API and applies that state within
the local Site environment.</p>
<div class="mermaid">sequenceDiagram
    User-&gt;&gt;API:  `balsam queue submit`
    API--&gt;&gt;User:  OK
    Site-&gt;&gt;API:  Have any new BatchJobs for me?
    API--&gt;&gt;Site:  Yes, here is one
    Site-&gt;&gt;Cobalt:  `qsub` this BatchJob
    Cobalt--&gt;&gt;Site:  New Cobalt Job ID
    Site-&gt;&gt;API:  Update BatchJob with Cobalt Job ID
    API--&gt;&gt;Site:  OK
    User-&gt;&gt;API:  `balsam queue ls`
    API--&gt;&gt;User:  Updated BatchJob
</div>
<p>For instance, commands like <code>balsam queue submit</code> will not actually do
anything with the queue if the Site is not running: they just update the
central API. To start the Site:</p>
<div class="highlight"><pre><span></span><code>$ balsam site start
</code></pre></div>
<p>The Site will run in the background, sync with API, perform qsub/qstat, initiate data transfers,
and pre/post-process  jobs.  It can eventually be stopped with:</p>
<div class="highlight"><pre><span></span><code>$ balsam site stop
</code></pre></div>
<h2 id="submitting-a-job">Submitting a Job</h2>
<p>Now we can submit a BatchJob via the API and watch it appear in Cobalt:</p>
<div class="highlight"><pre><span></span><code>$ balsam queue submit -q debug-cache-quad -A datascience -n 1 -t 10 -j mpi 
$ watch &quot;qstat -u $USER &amp;&amp; balsam queue ls&quot;
</code></pre></div>
<p>When the BatchJob starts, an MPI mode launcher should run the jobs.  You will see (copious) logs in the <code>logs/</code>  directory showing what's going on.  Track the Job statuses with:</p>
<div class="highlight"><pre><span></span><code>$ balsam job ls
</code></pre></div>
<p>All of the workdirs that are created will be visible  under the <code>data/</code> directory.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../development/deploy/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Running a Balsam Server
              </div>
            </div>
          </a>
        
        
          <a href="../../LICENSE/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                License
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/balsam-alcf" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['tabs', 'instant'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../mermaid.min.js"></script>
      
    
  </body>
</html>